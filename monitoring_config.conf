# 🚀 모니터링 시스템 설정 파일
# 이 파일을 수정하여 대상 서버와 연결 정보를 설정하세요
# 
# 📋 설정 방법:
# 1. 아래 설정값들을 자신의 환경에 맞게 수정
# 2. 파일을 저장한 후 install_monitoring_system.sh 실행
# 3. 스크립트가 자동으로 설정을 적용하여 모니터링 시스템 설치
#
# ⚠️  주의사항:
# - 모든 값은 따옴표로 감싸주세요
# - 쉼표 뒤에 공백이 있어도 됩니다
# - 파일 경로는 절대 경로를 권장합니다

# ============================================================================
# 🖥️  대상 서버 설정
# ============================================================================

# 대상 서버 목록 (쉼표로 구분하여 여러 서버 지정 가능)
# 형식: IP:PORT (예: 192.168.0.10:22,192.168.0.111:20222)
# 
# 📝 예시:
# - 단일 서버: "192.168.0.10:22"
# - 여러 서버 (같은 포트): "192.168.0.10:22,192.168.0.11:22,192.168.0.12:22"
# - 여러 서버 (다른 포트): "192.168.0.10:22,192.168.0.111:20222,192.168.0.112:20222"
# - 개발/운영 혼합: "192.168.0.10:22,192.168.0.11:22,192.168.0.111:20222"
TARGET_SERVERS="192.168.0.10:22,192.168.0.111:20222"

# ============================================================================
# 🔐 SSH 연결 설정
# ============================================================================

# SSH 사용자명
# 각 서버에 SSH로 접속할 때 사용할 사용자 계정
# 
# 📝 예시:
# - root 계정: "root"
# - 일반 사용자: "user", "admin", "rocky"
# - sudo 권한이 있는 사용자 권장
SSH_USER="root"

# SSH 개인키 파일 경로
# SSH 공개키 인증에 사용할 개인키 파일의 절대 경로
# 
# 📝 예시:
# - 기본 위치: "/root/.ssh/id_rsa"
# - 사용자 홈: "/home/user/.ssh/id_rsa"
# - 커스텀 키: "/opt/keys/monitoring_key"
# 
# ⚠️  주의사항:
# - 파일 권한은 600 (소유자만 읽기/쓰기)이어야 함
# - 공개키가 대상 서버에 등록되어 있어야 함
SSH_PRIVATE_KEY_FILE="/root/.ssh/id_rsa"

# ============================================================================
# 🌐 서비스 포트 설정
# ============================================================================

# Prometheus 웹 포트 (기본값: 9090)
# Prometheus 웹 UI에 접속할 때 사용할 포트
# 
# 📝 예시:
# - 기본 포트: "9090"
# - 커스텀 포트: "19090", "9091"
# 
# ⚠️  주의사항:
# - 방화벽에서 해당 포트가 열려있어야 함
# - 다른 서비스와 포트 충돌이 없어야 함
PROMETHEUS_PORT="9090"

# Grafana 웹 포트 (기본값: 3000)
# Grafana 대시보드에 접속할 때 사용할 포트
# 
# 📝 예시:
# - 기본 포트: "3000"
# - 커스텀 포트: "13000", "3001"
# 
# ⚠️  주의사항:
# - 방화벽에서 해당 포트가 열려있어야 함
# - 다른 서비스와 포트 충돌이 없어야 함
GRAFANA_PORT="3000"

# Node Exporter 포트 (기본값: 9100)
# 각 서버에서 Node Exporter가 메트릭을 제공할 포트
# 
# 📝 예시:
# - 기본 포트: "9100"
# - 커스텀 포트: "19100", "9101"
# 
# ⚠️  주의사항:
# - 각 대상 서버의 방화벽에서 해당 포트가 열려있어야 함
# - Prometheus가 이 포트로 메트릭을 수집함
NODE_EXPORTER_PORT="9100"

# ============================================================================
# 🔧 고급 설정 (필요시 수정)
# ============================================================================

# Prometheus 데이터 보관 기간 (일)
# 메트릭 데이터를 보관할 기간 (기본값: 15일)
# 
# 📝 예시:
# - 7일: "7d"
# - 30일: "30d"
# - 90일: "90d"
# 
# ⚠️  주의사항:
# - 값이 클수록 더 많은 디스크 공간 필요
# - 성능에 영향을 줄 수 있음
PROMETHEUS_RETENTION="15d"

# 메트릭 수집 간격 (초)
# Prometheus가 각 서버에서 메트릭을 수집하는 간격
# 
# 📝 예시:
# - 빠른 수집: "10s"
# - 일반적인 수집: "15s"
# - 느린 수집: "30s"
# 
# ⚠️  주의사항:
# - 값이 작을수록 더 정확한 모니터링, 하지만 리소스 사용량 증가
# - 값이 클수록 리소스 절약, 하지만 모니터링 정확도 감소
SCRAPE_INTERVAL="15s"

# ============================================================================
# 📚 설정 완료 후 다음 단계
# ============================================================================
# 
# 1. 이 파일을 저장하세요
# 2. install_monitoring_system.sh를 실행하세요
# 3. 스크립트가 자동으로 설정을 적용하여 모니터링 시스템을 설치합니다
# 4. 설치 완료 후 제공되는 명령어로 Node Exporter를 대상 서버에 설치하세요
# 
# 🚀 설치 명령어:
# ./install_monitoring_system.sh
# 
# 📊 설치 후 접속:
# - Prometheus: http://서버IP:9090
# - Grafana: http://서버IP:3000 (admin/admin123)
# - Node Exporter: http://서버IP:9100
# 
# 🔧 문제 해결:
# - SSH 연결 문제: SSH 키 설정 및 권한 확인
# - 포트 충돌: 다른 포트로 변경
# - 방화벽 문제: 해당 포트 개방
