<div class="main-content">
  <div class="dashboard-summary">
    <h3><i class="fas fa-tachometer-alt me-2"></i>모든 상태 요약</h3>
    <div class="row mb-4">
      <div class="col-md-3">
        <div class="stats-card">
          <div class="stats-icon"><i class="fas fa-server"></i></div>
          <div class="stats-number" id="total-servers">{{ total_servers }}</div>
          <div class="stats-label">총 서버</div>
        </div>
      </div>
      <div class="col-md-3">
        <div class="stats-card">
          <div class="stats-icon"><i class="fas fa-play-circle"></i></div>
          <div class="stats-number" id="running-servers">{{ running_servers }}</div>
          <div class="stats-label">실행 중</div>
        </div>
      </div>
      <div class="col-md-3">
        <div class="stats-card">
          <div class="stats-icon"><i class="fas fa-pause-circle"></i></div>
          <div class="stats-number" id="stopped-servers">{{ stopped_servers }}</div>
          <div class="stats-label">중지됨</div>
        </div>
      </div>
      <div class="col-md-3">
        <div class="stats-card">
          <div class="stats-icon"><i class="fas fa-memory"></i></div>
          <div class="stats-number" id="total-memory">{{ '%.2f' % total_memory_gb }}</div>
          <div class="stats-label">총 메모리 (GB)</div>
        </div>
      </div>
    </div>
    <!-- 서버 요약 패널 -->
    <div class="dashboard-card mb-4">
      <div class="card-header d-flex align-items-center justify-content-between">
        <h5 class="mb-0"><i class="fas fa-list me-2"></i>서버 요약</h5>
        <button class="btn btn-outline-primary btn-sm" id="dashboard-refresh-btn"><i class="fas fa-sync-alt me-1"></i>새로고침</button>
      </div>
      <div class="card-body" id="dashboard-server-panels">
        {# 서버 목록을 Jinja2로 직접 렌더링 (예시) #}
        {% if servers and servers|length > 0 %}
        <div class="row g-3">
          {% for s in servers %}
          <div class="col-md-4 col-lg-3">
            <div class="dashboard-card h-100 p-3" style="min-height:170px;">
              <div class="d-flex align-items-center mb-2">
                <i class="fas fa-server fa-lg me-2 text-primary"></i>
                <span class="fw-bold">{{ s.name }}</span>
              </div>
              <div class="mb-1"><i class="fas fa-tag me-1"></i> <span class="badge bg-primary">{{ s.role or '-' }}</span></div>
              <div class="mb-1"><i class="fas fa-microchip me-1"></i> {{ s.cpu|int }}코어 <i class="fas fa-memory ms-2 me-1"></i> {{ (s.memory / 1024 / 1024 / 1024)|round(2) }}GB</div>
              <div class="mb-1"><i class="fas fa-network-wired me-1"></i> {{ s.network_devices[0].ip_address if s.network_devices and s.network_devices|length > 0 else '-' }}</div>
              <div class="mb-1">
                {% if s.status == 'running' %}
                  <span class="badge bg-success">실행 중</span>
                {% elif s.status == 'stopped' %}
                  <span class="badge bg-secondary">중지됨</span>
                {% elif s.status == 'paused' %}
                  <span class="badge bg-warning">일시정지</span>
                {% elif s.status == 'suspended' %}
                  <span class="badge bg-info">일시중단</span>
                {% else %}
                  <span class="badge bg-dark">{{ s.status }}</span>
                {% endif %}
              </div>
            </div>
          </div>
          {% endfor %}
        </div>
        {% else %}
        <div class="text-center text-muted">등록된 서버가 없습니다.</div>
        {% endif %}
      </div>
    </div>
    <!-- 스토리지 요약 패널 -->
    <div class="dashboard-card mb-4">
      <div class="card-header d-flex align-items-center justify-content-between">
        <h5 class="mb-0"><i class="fas fa-hdd me-2"></i>스토리지 요약</h5>
        <button class="btn btn-outline-primary btn-sm" id="dashboard-storage-refresh-btn"><i class="fas fa-sync-alt me-1"></i>새로고침</button>
      </div>
      <div class="card-body p-0" id="dashboard-storage-panel">
        <div class="text-center text-muted py-4">스토리지 정보를 불러오는 중...</div>
      </div>
    </div>
  </div>
</div> 